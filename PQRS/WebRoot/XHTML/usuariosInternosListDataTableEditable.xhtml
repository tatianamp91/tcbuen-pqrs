<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<h:head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
</h:head>
<h:body>
	<ui:composition template="/WEB-INF/facelets/template.xhtml">
		<ui:define name="body">
			<f:view>
				<p:ajaxStatus onstart="statusDialog.show();"
					onsuccess="statusDialog.hide();" />
				<p:dialog modal="true" widgetVar="statusDialog" header="Loading"
					draggable="false" closable="false">
					<p:graphicImage
						value="#{facesContext.externalContext.request.scheme}://#{facesContext.externalContext.request.serverName}:#{facesContext.externalContext.request.serverPort}#{facesContext.externalContext.request.contextPath}/images/ajaxloadingbar.gif" />
				</p:dialog>
				<h:form id="form">
					<p:panel id="msgProjectClientesTitle" header="Usuarios Internos">
						<p:messages id="msg" showDetail="false" />
						<p:dataTable id="tabla" value="#{usuariosInternosView.data}"
							var="usuariosInternos" paginator="true" rows="5" editable="true">
							<p:ajax event="rowEdit" update=":form:msg,:form:tabla"
								listener="#{usuariosInternosView.rowEventListener}" />
							
							<p:column filterBy="#{usuariosInternos.nombres}"
								sortBy="#{usuariosInternos.nombres}" headerText="Nombres">
								<p:cellEditor>
									<f:facet name="output">
										<h:outputText value="#{usuariosInternos.nombres}" />
									</f:facet>
									<f:facet name="input">
										<p:inputText value="#{usuariosInternos.nombres}" />
									</f:facet>
								</p:cellEditor>
							</p:column>
								
							<p:column filterBy="#{usuariosInternos.apellidos}"
								sortBy="#{usuariosInternos.apellidos}" headerText="Apellidos">
								<p:cellEditor>
									<f:facet name="output">
										<h:outputText value="#{usuariosInternos.apellidos}" />
									</f:facet>
									<f:facet name="input">
										<p:inputText value="#{usuariosInternos.apellidos}" />
									</f:facet>
								</p:cellEditor>
							</p:column>
							
							<p:column filterBy="#{usuariosInternos.numeroIdentificacion}"
								sortBy="#{usuariosInternos.numeroIdentificacion}"
								headerText="Numero de Identificacion">
								<p:cellEditor>
									<f:facet name="output">
										<h:outputText value="#{usuariosInternos.numeroIdentificacion}" />
									</f:facet>
									<f:facet name="input">
										<p:inputText value="#{usuariosInternos.numeroIdentificacion}" />
									</f:facet>
								</p:cellEditor>
							</p:column>
							
							<p:column filterBy="#{usuariosInternos.correoElectronico}"
								sortBy="#{usuariosInternos.correoElectronico}"
								headerText="Email">
								<p:cellEditor>
									<f:facet name="output">
										<h:outputText value="#{usuariosInternos.correoElectronico}" />
									</f:facet>
									<f:facet name="input">
										<p:inputText value="#{usuariosInternos.correoElectronico}" />
									</f:facet>
								</p:cellEditor>
							</p:column>
							
							<p:column filterBy="#{usuariosInternos.login}"
								sortBy="#{usuariosInternos.login}" headerText="Login">
								<p:cellEditor>
									<f:facet name="output">
										<h:outputText value="#{usuariosInternos.login}" />
									</f:facet>
									<f:facet name="input">
										<p:inputText value="#{usuariosInternos.login}" />
									</f:facet>
								</p:cellEditor>
							</p:column>
							
							<p:column
								filterBy="#{usuariosInternos.idAreaInvolucrada_AreasInvolucradas}"
								sortBy="#{usuariosInternos.idAreaInvolucrada_AreasInvolucradas}"
								headerText="Area Involucrada">
								<p:cellEditor>
									<f:facet name="output">
										<h:outputText
											value="#{usuariosInternos.idAreaInvolucrada_AreasInvolucradas}" />
									</f:facet>
									<f:facet name="input">
										<p:selectOneMenu id="AreaInvolucrada2"
											value="#{usuariosInternosView.idAreaInvolucrada}" style="height:20px;width:150px">
											<f:selectItems value="#{usuariosInternosView.areasInvolucradas}" />
										</p:selectOneMenu>
									</f:facet>
								</p:cellEditor>
							</p:column>
							
							<p:column filterBy="#{usuariosInternos.idRol_Roles}"
								sortBy="#{usuariosInternos.idRol_Roles}"
								headerText="Rol Usuario">
								<p:cellEditor>
									<f:facet name="output">
										<h:outputText value="#{usuariosInternos.idRol_Roles}" />
									</f:facet>
									<f:facet name="input">
										<p:selectOneMenu id="Rol2"
											value="#{usuariosInternosView.idRol}" style="height:20px;width:150px">
											<f:selectItems value="#{usuariosInternosView.idRoles}" />
										</p:selectOneMenu>
									</f:facet>
								</p:cellEditor>
							</p:column>
							
							<p:column filterBy="#{usuariosInternos.estadoRegistro}"
								sortBy="#{usuariosInternos.estadoRegistro}"
								headerText="Estado">
								<p:cellEditor>
									<f:facet name="output">
										<h:outputText value="#{usuariosInternos.estadoRegistro}" />
									</f:facet>
									<f:facet name="input">
										<p:selectOneMenu id="estadoRegistro"
											value="#{usuariosInternosView.estadoRegistroSeleccionado}"
											style="height:20px;width:75px">
											<f:selectItem itemValue="A" itemLabel="Activo" />
											<f:selectItem itemValue="I" itemLabel="Inactivo" />
										</p:selectOneMenu>
									</f:facet>
								</p:cellEditor>
							</p:column>

							<p:column headerText="Editar">
								<p:rowEditor id="row" />
								<p:tooltip for="row" value="Edit" showEffect="fade"
									hideEffect="fade" />
							</p:column>
						</p:dataTable>
					</p:panel>
					<p:panel id="panelBoton">
						<div align="center">
							<p:commandButton id="btnNew" value="Nuevo"
										action="#{usuariosInternosView.action_new()}" update=":dialogUsuariosInternos">
							</p:commandButton>
						</div>
					</p:panel>
				</h:form>
				<p:dialog id="dialogUsuariosInternos" appendToBody="true" draggable="true"
						closable="false" visible="#{usuariosInternosView.showDialog}"
						resizable="false" modal="true" width="500">
					<h:form id="formDialog">
						<p:messages id="msg" showDetail="false"></p:messages>
						<p:panel id="panelUsuariosInternos" header="Nuevo Usuario">
							<h:panelGrid columns="2" id="panelGrid">
								<h:outputText id="msgNombres" value="*Nombres:"></h:outputText>
								<p:inputText id="txtNombres" binding="#{usuariosInternosView.txtNombres}"></p:inputText>
								<h:outputText id="msgApellidos" value="*Apellidos:"></h:outputText>
								<p:inputText id="txtApellidos" binding="#{usuariosInternosView.txtApellidos}"></p:inputText>
								<h:outputText id="msgNumeroIdentificacion" value="*Numero de Identificacion:"></h:outputText>
								<p:inputText id="txtNumeroIdentificacion" 
											binding="#{usuariosInternosView.txtNumeroIdentificacion}"></p:inputText>
								<h:outputText id="msgLogin" value="*Login:"></h:outputText>
								<p:inputText id="txtLogin" binding="#{usuariosInternosView.txtLogin}"></p:inputText>
								<h:outputText id="msgCorreoElectronico" value="*Email:"></h:outputText>
								<p:inputText id="txtCorreoElectronico" 
											binding="#{usuariosInternosView.txtCorreoElectronico}"></p:inputText>
								<h:outputText id="msgContrasena" value="*ContraseÃ±a:"></h:outputText>
								<p:inputText id="txtContrasena" binding="#{usuariosInternosView.txtContrasena}"></p:inputText>
								<h:outputText id="msgAreaInvolucrada" value="*Area Involucrada:"></h:outputText>
								<p:selectOneMenu id="UsuariosInternos"
									value="#{usuariosInternosView.idAreaInvolucrada}"
									style="height:20px;width:150px">
									<f:selectItem itemLabel="Seleccione" itemValue="" />
									<f:selectItems value="#{usuariosInternosView.areasInvolucradas}" />
								</p:selectOneMenu>
								<h:outputText id="msgRol" value="*Rol:"></h:outputText>
								<p:selectOneMenu id="UsuariosInternos2"
									value="#{usuariosInternosView.idRol}"
									style="height:20px;width:150px">
									<f:selectItem itemLabel="Seleccione" itemValue="" />
									<f:selectItems value="#{usuariosInternosView.idRoles}" />
								</p:selectOneMenu>
								
								<h:outputText id="msgEstadoRegistro" value="*Estado:"></h:outputText> 
								<p:selectOneMenu id="estadoRegistro"
											value="#{usuariosInternosView.estadoRegistroSeleccionado}"
											style="height:20px;width:75px">
									<f:selectItem itemValue="A" itemLabel="Activo"></f:selectItem>
									<f:selectItem itemValue="I" itemLabel="Inactivo"></f:selectItem>
								</p:selectOneMenu>
							</h:panelGrid>
						</p:panel>
						<p:panel id="panelBotones">
							<div align="center">
								<p:commandButton id="btnSave" value="Guardar"
												binding="#{usuariosInternosView.btnSave}"
												action="#{usuariosInternosView.action_save()}"
												update=":dialogUsuariosInternos :form:msgProjectClientesTitle">
								</p:commandButton>
								<p:commandButton id="btnClear" value="Limpiar"
												action="#{usuariosInternosView.action_clear()}"
												update=":dialogUsuariosInternos">
								</p:commandButton>
								<p:commandButton id="btnExit" value="Salir"
												action="#{usuariosInternosView.action_closeDialog()}"
												update=":dialogUsuariosInternos">
								</p:commandButton>
							</div>
						</p:panel>
					</h:form>	
				</p:dialog>
			</f:view>
		</ui:define>
	</ui:composition>

</h:body>

</html>
